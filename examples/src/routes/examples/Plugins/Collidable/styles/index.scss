@use 'props';

.Collidable {
	.block-layout--positioned {
		width: 100%;
		height: props.collidable(container-height);

		@media screen and (min-width: map-get(theme.$breakpoints, 'md')) {
			height: props.collidable(container-height, tablet);
		}

		@media screen and (min-width: map-get(theme.$breakpoints, 'lg')) {
			height: props.collidable(container-height, desktop);
		}
	}

	.block--2,
	.block--3,
	.block__wrapper:nth-child(1),
	.block__wrapper:nth-child(4) {
		position: absolute;
		width: calc(50% - #{map-get(theme.$borders, 'thin') * 2.5});

		@media screen and (min-width: map-get(theme.$breakpoints, 'md')) {
			width: calc(25% - #{map-get(theme.$borders, 'base')});
		}
	}

	.block--2,
	.block--3 {
		height: props.collidable(obstacle-height);

		@media screen and (min-width: map-get(theme.$breakpoints, 'md')) {
			height: props.collidable(obstacle-height, tablet);
		}

		@media screen and (min-width: map-get(theme.$breakpoints, 'lg')) {
			height: props.collidable(obstacle-height, desktop);
		}
	}

	.block--2 {
		top: props.collidable(container-padding);
		right: props.collidable(container-padding);

		@media screen and (min-width: map-get(theme.$breakpoints, 'md')) {
			top: props.collidable(container-padding, tablet);
			right: auto;
			left: calc(25% + #{props.collidable(container-padding, tablet)});
		}
	}

	.block--3 {
		bottom: props.collidable(container-padding);
		left: props.collidable(container-padding);

		@media screen and (min-width: map-get(theme.$breakpoints, 'md')) {
			bottom: props.collidable(container-padding, tablet);
			right: props.collidable(container-padding, tablet);
			left: auto;
		}
	}

	.block__wrapper:nth-child(1),
	.block__wrapper:nth-child(4) {
		height: props.collidable(block-height);

		@media screen and (min-width: map-get(theme.$breakpoints, 'md')) {
			height: props.collidable(block-height, tablet);
		}

		@media screen and (min-width: map-get(theme.$breakpoints, 'lg')) {
			height: props.collidable(block-height, desktop);
		}
	}

	.block__wrapper:nth-child(1) {
		top: props.collidable(container-padding);
		left: props.collidable(container-padding);

		@media screen and (min-width: map-get(theme.$breakpoints, 'md')) {
			top: props.collidable(container-padding, tablet);
			left: props.collidable(container-padding, tablet);
		}
	}

	.block__wrapper:nth-child(4) {
		bottom: props.collidable(container-padding);
		right: props.collidable(container-padding);

		@media screen and (min-width: map-get(theme.$breakpoints, 'md')) {
			top: props.collidable(container-padding, tablet);
			right: props.collidable(container-padding, tablet);
			bottom: auto;
		}
	}

	///
	/// Walls
	.collidable-wall {
		position: absolute;
		background-color: map-get(theme.$colors, 'coal-dark');
		transition: background-color map-get(theme.$durations, 'base') map-get(theme.$easings, 'base');
	}

	.collidable-wall--itemTop {
		top: 0;
		right: 0;
		left: 0;
		height: map-get(theme.$borders, 'thin');

		@media screen and (min-width: map-get(theme.$breakpoints, 'md')) {
			height: map-get(theme.$borders, 'base');
		}
	}

	.collidable-wall--itemRight {
		top: 0;
		right: 0;
		bottom: 0;
		width: map-get(theme.$borders, 'thin');

		@media screen and (min-width: map-get(theme.$breakpoints, 'md')) {
			width: map-get(theme.$borders, 'base');
		}
	}

	.collidable-wall--itemBottom {
		right: 0;
		bottom: 0;
		left: 0;
		height: map-get(theme.$borders, 'thin');

		@media screen and (min-width: map-get(theme.$breakpoints, 'md')) {
			height: map-get(theme.$borders, 'base');
		}
	}

	.collidable-wall--itemLeft {
		top: 0;
		bottom: 0;
		left: 0;
		width: map-get(theme.$borders, 'thin');

		@media screen and (min-width: map-get(theme.$breakpoints, 'md')) {
			width: map-get(theme.$borders, 'base');
		}
	}

	// Draggable
	.draggable-mirror {
		.BlockContent {
			transform: scale(0.9);
		}
	}

	.draggable-container--is-dragging:not(.draggable-container--over) {
		.Block--typeStripes {
			.BlockContent {
				color: map-get(theme.$colors, 'brand-red');
			}
		}

		.collidable-wall {
			background-color: map-get(theme.$colors, 'brand-red');
		}
	}

	// stylelint-disable-next-line no-duplicate-selectors
	.collidable-wall {
		&.isColliding {
			background-color: map-get(theme.$colors, 'brand-red');
		}
	}
}
